<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'CSS/response.css' %}" type="text/css">
    <link rel="stylesheet" href="{% static '/CSS/bootstrap.css' %}">
    <link rel="shortcut icon" href="{% static '/media/fabicon.png' %}" type="image/x-icon">
    <title>Response Panel</title>
</head>

<body class="body" id="body">
    <nav class="navbar navbar-light bg-light fixed-top" id="nav">
        <div class="container-fluid">
            <a class="navbar-brand Pagetitle" href="/about/" id="heading">
                <img src="{% static '/media/Logo.png' %}" alt="" style="height: 64px;">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar"
                aria-labelledby="offcanvasDarkNavbarLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">Skill Sharpener</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/" style="color: aliceblue;">Home</a>
                        </li>
                        {% if request.user.is_staff %}
                        <li class="nav-item">
                            <a class="nav-link login" href="/post/" style="color: aliceblue;">Post</a>
                        </li>
                        {% endif %}
                        <li class="nav-item">
                            <a class="nav-link login" href="{% url 'profile' name=request.user.username %}" style="color: aliceblue;">Profile</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link login" href="/Winnerboard/" style="color: aliceblue;">Winner</a>
                        </li>
                        <li class="nav-item dropdown">

                            {% if request.user.is_authenticated %}


                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false" style="color: aliceblue;">
                                {{user.get_username}}
                            </a>
                            <ul class="dropdown-menu dropdown-menu-dark">
                                <li><a class="dropdown-item" id="loginout" href="/logout/" style="color: aliceblue;">Logout</a></li>
                            </ul>

                            {% else %}

                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false" style="color: aliceblue;">
                                User
                            </a>
                            <ul class="dropdown-menu dropdown-menu-dark">



                                <li><a class="dropdown-item" id="loginbtn" href="/login/" style="color: aliceblue;">Login</a></li>
                                <li><a class="dropdown-item" id="signupbtn" href="/signup/" style="color: aliceblue;">Sign Up</a></li>

                                {% endif %}

                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
    <div class="pagebg" id="page2">

        <div class="responseTable">
            <table>
                <tr>
                    <th><span>User Name</span></th>
                    <th><span>Code Title</span></th>
                    <th><span>Coding Language</span></th>
                    <th><span>Submition Time</span></th>
                </tr>
                {% for post in response %}
                <tr>
                    <td><span>{{post.user}}</span></td>
                    <td><span>{{post.codeTitel}}</span></td>
                    <td><span>{{post.sub_lang}}</span></td>
                    <td><span>{{post.sub_time}} sec</span></td>
                    <td><a href="" onclick="run('{{ post.sub_data|escapejs }}')">Click</a></td>
                </tr>
                {% endfor %}
            </table>
        </div>
        <a href="{% url 'winnerAdd' codeData.id %}" class="btn"><button class="other win_btn">Winner Add</button></a>
    </div>
</body>
<script>
    function run(a) {
        var value = a;
        var popup = window.open('', '', 'width=600,height=400');
        var textarea = document.createElement('textarea');
        textarea.style.width = '100%';
        textarea.style.height = '100%';
        textarea.style.borderRadius = '10px';
        textarea.style.padding = '15px';
        textarea.style.paddingLeft = '10%';
        textarea.style.resize = 'none';
        textarea.style.background = '#eaf2fe';
        textarea.style.borderBottom = '4px solid rgba(0, 0, 0, 0.1)';
        popup.document.body.style.backgroundColor = 'black';
        popup.document.body.style.padding = '30px';
        textarea.value = value;
        popup.document.body.appendChild(textarea);
    }
</script>
<script src="{% static '/js_file/bootstrap.js' %}"></script>

</html>